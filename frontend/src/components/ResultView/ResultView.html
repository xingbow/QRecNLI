<div id="resultview">
    <!-- <div class="card"> -->
    <div class="card-block" id="resultContainer">
        <el-collapse>
            <el-collapse-item title="You may also want to ask:" name="1">
                <div class="recommend">
                    <div v-for="(nl, nlidx) in qSugg">
                        <a class="recommend-item " v-on:click="selectQuery(nlidx)">
                            <span style="margin: 0px 5px;">{{nl}}</span>
                        </a>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="SQL results and explanations" name="2">
                <div class="rowitem">
                    <el-tag type="success">SQL</el-tag> {{sqlQuery}}</div>
                <div class="rowitem">
                    <el-tag type="success">NL Explanation</el-tag>
                    <span class="explanation-container" v-html="explanation"></span>
                </div>
                <div class="rowitem">
                    <el-tag type="info" effect="plain">Select </el-tag>
                    <div class="rowitem" v-for="(selectUnit, index) in selectDecoded">
                        <SelectToken :selectUnit=selectUnit :tables=tables />
                    </div>
                </div>
                <div class="rowitem">
                    <el-tag type="info" effect="plain">Groupby </el-tag>
                </div>
                <div class="rowitem">
                    <el-tag type="info" effect="plain">Filters </el-tag>
                    <div class="rowitem" v-for="(condUnit, index) in whereDecoded">
                        <CondUnitToken :condUnit=condUnit :tables=tables />
                    </div>
                </div>
            </el-collapse-item>
        </el-collapse>
        <div id="vegaLiteContainer">
            <draggable class="list-group" :list="queryReturns" handle="none" group="historyNode">
                <div class="list-group-item-invisible" v-for="(qRet, index) in queryReturns" :key="qRet.id">
                    <!-- {{qRet[2]}} -->
                    <div class="vis-container" v-if="qRet.type === 'vega-lite'">
                        <VegaLiteChart :vlSpecs="qRet.content" :innerKey="qRet.id" :defaultTitle="qRet.title" :onDelete="()=>onDelete(index)" />
                    </div>
                    <div class="vis-container" v-else-if="qRet.type === 'table'">
                        <DraggableTable :dataContent="qRet.content" :columnNames="Object.keys(qRet.content[0])" :defaultTitle="qRet.title" :onDelete="()=>onDelete(index)" />
                    </div>
                    <div class="vis-container" v-else-if="qRet.type === 'data'" @mousedown.stop="">
                        <DraggableChart :w="80" :h="50" :onDelete="()=>onDelete(index)" :defaultTitle="qRet.title">
                            <span class="result-text">{{qRet.content}}</span>
                        </DraggableChart>
                    </div>
                </div>
            </draggable>
        </div>
    </div>
</div>
</div>